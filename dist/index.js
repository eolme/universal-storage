/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */
var t=decodeURIComponent,e=encodeURIComponent,o=/; */,r=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function n(t,e){try{return e(t)}catch(e){return t}}function i(t){return null==t}var c="object"==typeof global&&global&&global.Object===Object&&global,a="object"==typeof self&&self&&self.Object===Object&&self,s=(c||a||Function("return this")()).Symbol,u=Object.prototype,f=u.hasOwnProperty,l=u.toString,p=s?s.toStringTag:void 0,g=Object.prototype.toString,h=s?s.toStringTag:void 0;function d(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":h&&h in Object(t)?function(t){var e=f.call(t,p),o=t[p];try{t[p]=void 0;var r=!0}catch(t){}var n=l.call(t);return r&&(e?t[p]=o:delete t[p]),n}(t):function(t){return g.call(t)}(t)}function v(t){return null!=t&&"object"==typeof t}var y,S,b=(y=Object.getPrototypeOf,S=Object,function(t){return y(S(t))}),m=Function.prototype.toString,j=Object.prototype.hasOwnProperty,w=m.call(Object);function x(t){if(!v(t)||"[object Object]"!=d(t))return!1;var e=b(t);if(null===e)return!0;var o=j.call(e,"constructor")&&e.constructor;return"function"==typeof o&&o instanceof o&&m.call(o)==w}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var O=function(t,e){return function(t,e){t.exports=function(){function t(t,e){return t.slice(0,e).join(".")||"."}function e(t,e){for(var o=t.length,r=0;r<o;++r)if(t[r]===e)return r+1;return 0}return function(o,r,n,i){return JSON.stringify(o,function(o,r){var n="function"==typeof o,i="function"==typeof r,c=[],a=[];return function(s,u){if("object"==typeof u)if(c.length){var f=e(c,this);0===f?c[c.length]=this:(c.splice(f),a.splice(f)),a[a.length]=s;var l=e(c,u);if(0!==l)return i?r.call(this,s,u,t(a,l)):"[ref="+t(a,l)+"]"}else c[0]=u,a[0]=s;return n?o.call(this,s,u):u}}(r,i),n)}}()}(e={exports:{}}),e.exports}();const k=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,_=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function C(t,e,o){null==o&&(null!==e&&"object"==typeof e?(o=e,e=void 0):o={});const r=o.protoAction||"error",n=o.constructorAction||"error";t&&65279===t.charCodeAt(0)&&(t=t.slice(1));const i=JSON.parse(t,e);if("ignore"===r&&"ignore"===n)return i;if(null===i||"object"!=typeof i)return i;if("ignore"!==r&&"ignore"!==n){if(!1===k.test(t)&&!1===_.test(t))return i}else if("ignore"!==r&&"ignore"===n){if(!1===k.test(t))return i}else if(!1===_.test(t))return i;return A(i,{protoAction:r,constructorAction:n}),i}function A(t,{protoAction:e="error",constructorAction:o="error"}={}){let r=[t];for(;r.length;){const t=r;r=[];for(const n of t){if("ignore"!==e&&Object.prototype.hasOwnProperty.call(n,"__proto__")){if("error"===e)throw new SyntaxError("Object contains forbidden prototype property");delete n.__proto__}if("ignore"!==o&&Object.prototype.hasOwnProperty.call(n,"constructor")){if("error"===o)throw new SyntaxError("Object contains forbidden prototype property");delete n.constructor}for(const t in n){const e=n[t];e&&"object"==typeof e&&r.push(n[t])}}}}var T={parse:C,scan:A,safeParse:function(t,e){try{return C(t,e)}catch(t){return null}}},E=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.{0,1}\d*))(?:Z|(\+|-)([\d|:]*))?$/,F=/^\/Date\((d|-|.*)\)[\/|\\]$/,U={jsonDateParser:function(t,e){var o=e;if("string"==typeof e){var r=E.exec(e);if(r)o=new Date(e);else if(r=F.exec(e)){var n=r[1].split(/[-+,.]/);o=new Date(n[0]?+n[0]:0-+n[1])}}return o}};function P(t){return v(e=t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!function(t){if(!function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}(t))return!1;var e=d(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}(t)}(e)||x(t);var e}function L(){return null}function I(t){if(i(t))return t;if(x(t))return t;try{return T.parse(t,U,{protoAction:"remove",constructorAction:"remove"})}catch(e){return t}}module.exports=function(){function c(t){void 0===t&&(t={}),this.options=t,this._initState(t.initialState)}var a=c.prototype;return a.setUniversal=function(t,e){return this.setState(t,e),this.setCookie(t,e),this.setLocalStorage(t,e),e},a.getUniversal=function(t){var e=this.getState(t);return i(e)&&(e=this.getCookie(t)),i(e)&&(e=this.getLocalStorage(t)),e},a.syncUniversal=function(t,e){var o=this.getUniversal(t);return i(o)&&!i(e)&&(o=e),i(o)||this.setUniversal(t,o),o},a.removeUniversal=function(t){this.removeState(t),this.removeLocalStorage(t),this.removeCookie(t)},a._initState=function(t){for(var e in this._state={},t)this.syncUniversal(e,t[e])},a.setState=function(t,e){return this._state[t]=e},a.getState=function(t){return this._state[t]},a.removeState=function(t){this.setState(t,void 0)},a.setLocalStorage=function(t,e){if("undefined"!=typeof localStorage&&this.options.localStorage){var o=this.options.localStorage.prefix+t;try{P(e)?localStorage.setItem(o,O(e)):localStorage.setItem(o,e)}catch(t){if(!this.options.ignoreExceptions)throw t}return e}},a.getLocalStorage=function(t){if("undefined"!=typeof localStorage&&this.options.localStorage)return I(localStorage.getItem(this.options.localStorage.prefix+t))},a.removeLocalStorage=function(t){"undefined"!=typeof localStorage&&this.options.localStorage&&localStorage.removeItem(this.options.localStorage.prefix+t)},a.getCookies=function(){return function(e,r){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var i={},c=e.split(o),a={}.decode||t,s=0;s<c.length;s++){var u=c[s],f=u.indexOf("=");if(!(f<0)){var l=u.substr(0,f).trim(),p=u.substr(++f,u.length).trim();'"'==p[0]&&(p=p.slice(1,-1)),null==i[l]&&(i[l]=n(p,a))}}return i}(document.cookie||"")||{}},a.setCookie=function(t,o,n){if(void 0===n&&(n={}),this.options.cookie){var c=this.options.cookie.prefix+t,a=Object.assign({},this.options.cookie.options,n),s=function(t,o,n){var i=n||{},c=i.encode||e;if("function"!=typeof c)throw new TypeError("option encode is invalid");if(!r.test(t))throw new TypeError("argument name is invalid");var a=c(o);if(a&&!r.test(a))throw new TypeError("argument val is invalid");var s=t+"="+a;if(null!=i.maxAge){var u=i.maxAge-0;if(isNaN(u))throw new Error("maxAge should be a Number");s+="; Max-Age="+Math.floor(u)}if(i.domain){if(!r.test(i.domain))throw new TypeError("option domain is invalid");s+="; Domain="+i.domain}if(i.path){if(!r.test(i.path))throw new TypeError("option path is invalid");s+="; Path="+i.path}if(i.expires){if("function"!=typeof i.expires.toUTCString)throw new TypeError("option expires is invalid");s+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(s+="; HttpOnly"),i.secure&&(s+="; Secure"),i.sameSite)switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s}(c,i(u=o)?null:"string"==typeof u?u:P()?O(u,null,0,L):""+u,a);return document.cookie=s,o}var u},a.getCookie=function(t){if(this.options.cookie){var e=this.options.cookie.prefix+t,o=this.getCookies();return I(o[e]?decodeURIComponent(o[e]):void 0)}},a.removeCookie=function(t,e){this.setCookie(t,void 0,Object.assign({maxAge:-1},e))},c}();
//# sourceMappingURL=index.js.map
